/* ============================================================================
   Theme System with CSS Variables
   主题系统 - 浅色/深色模式切换
   ============================================================================ */

:root {
  /* 默认渐变背景 */
  --bg-gradient: linear-gradient(135deg, #a0b0ff 0%, #c8b0e8 50%, #ffb0dd 100%);

  /* 主题切换过渡动画 */
  --theme-transition:
    background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;

  /* ============================================================================
     Layout & Spacing Variables
     布局和间距变量
     ============================================================================ */

  /* 响应式断点 */
  --breakpoint-narrow: 750px;
  --breakpoint-tablet: 1024px;
  --breakpoint-desktop: 1920px;

  /* 卡片尺寸 */
  --card-image-height: 240px;
  --card-min-width-narrow: 320px;
  --card-min-width-desktop: 380px;
  --card-min-width-4k: 420px;

  /* 卡片间距 */
  --card-gap-narrow: 1rem;
  --card-gap-desktop: 2rem;
  --card-row-margin-bottom: 0.5rem; /* 8px - 减小以让卡片更紧凑 */
  --card-row-padding-bottom: 0.5rem; /* 8px - 减小以让卡片更紧凑 */

  /* 卡片内边距 */
  --card-padding-x: 1.5rem;
  --card-padding-y: 1.25rem;
  --card-info-padding-x: 1.5rem;
  --card-info-padding-y: 1.25rem;
  --card-actions-padding-x: 1.5rem;
  --card-actions-padding-y: 1.5rem;

  /* 卡片内容高度 */
  --card-title-font-size: 1.125rem;
  --card-title-line-height: 1.3;
  --card-title-margin-bottom: 0.375rem;
  --card-subtitle-font-size: 0.8125rem;
  --card-button-height: 38px;

  /* 网格容器内边距 */
  --grid-padding-x-narrow: 1rem;
  --grid-padding-x-tablet: 1.5rem;
  --grid-padding-x-desktop: 2rem;
  --grid-padding-x-4k: 2rem;

  /* 虚拟列表行高（通过 JS 计算，这里作为后备值） */
  --virtual-list-row-height: 409px;

  /* 滚动条宽度 */
  --scrollbar-width: 8px;
}

/* 系统深色模式偏好 */
@media (prefers-color-scheme: dark) {
  :root {
    --bg-gradient: linear-gradient(
      135deg,
      #2d2d44 0%,
      #2a3a5a 50%,
      #1e4a7a 100%
    );
  }
}

/* ============================================================================
   Light Theme - 浅色模式
   ============================================================================ */
:root[data-theme="light"] {
  /* 页面渐变背景 */
  --bg-gradient: linear-gradient(135deg, #ff8ccc 0%, #aa7bf3 58%, #7c8cff 100%);

  /* 卡片玻璃态背景 */
  --bg-glass: rgba(255, 255, 255, 0.58);

  /* 按钮激活状态背景 */
  --bg-glass-hover: rgba(255, 255, 255, 0.9);

  /* 输入框、下拉框等控件背景 */
  --bg-control: rgba(255, 255, 255, 0.25);

  /* 控件聚焦/hover 背景 */
  --bg-control-hover: rgba(255, 255, 255, 0.78);

  /* 设置模态框背景 */
  --bg-modal: rgba(255, 255, 255, 0.58);

  /* 卡片按钮未选中背景 */
  --bg-button: rgba(255, 255, 255, 0.25);

  /* 卡片按钮选中背景 */
  --bg-button-hover: rgba(255, 255, 255, 1);

  /* 头部按钮未选中背景 */
  --bg-button-header: rgba(255, 255, 255, 0.7);

  /* 头部按钮选中背景 */
  --bg-button-header-hover: rgba(255, 255, 255, 0.92);

  /* 主要文字颜色 */
  --text-primary: #000000;

  /* 次要文字颜色 */
  --text-secondary: rgba(37, 42, 59, 0.78);

  /* 三级文字颜色 */
  --text-tertiary: rgba(37, 42, 59, 0.58);

  /* 禁用文字颜色 */
  --text-disabled: rgba(37, 42, 59, 0.38);

  /* 主强调色 */
  --accent-color: #6366f1;

  /* 强调色 hover */
  --accent-hover: #4f46e5;

  /* 强调色 active */
  --accent-active: #4338ca;

  /* 成功状态文字色 */
  --success-color: #16a34a;

  /* 成功状态背景色 */
  --success-bg: #dcfce7;

  /* 成功状态边框色 */
  --success-border: #16a34a;

  /* 错误状态文字色 */
  --error-color: #dc2626;

  /* 错误状态背景色 */
  --error-bg: #fef2f2;

  /* 错误状态边框色 */
  --error-border: #ef4444;

  /* 警告状态文字色 */
  --warning-color: #ea580c;

  /* 警告状态背景色 */
  --warning-bg: #fff7ed;

  /* 警告状态边框色 */
  --warning-border: #f97316;

  /* 模态框遮罩层 */
  --overlay-bg: rgba(0, 0, 0, 0.5);

  /* 骨架屏基础色 */
  --skeleton-base: rgba(37, 42, 59, 0.08);

  /* 骨架屏闪烁色 */
  --skeleton-shimmer: rgba(37, 42, 59, 0.15);

  /* 主边框 */
  --border-primary: rgba(37, 42, 59, 0.18);

  /* 次边框 */
  --border-secondary: rgba(37, 42, 59, 0.12);

  /* hover 边框 */
  --border-hover: rgba(37, 42, 59, 0.28);

  /* 小阴影 - 按钮、小卡片 */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.1);

  /* 中等阴影 - 一般卡片 */
  --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);

  /* 大阴影 - 悬浮卡片 */
  --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.15);

  /* 超大阴影 - 模态框 */
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.18);

  /* 轻度背景模糊 */
  --blur-light: blur(20px) saturate(180%);

  /* 中度背景模糊 */
  --blur-medium: blur(40px) saturate(180%);

  /* 重度背景模糊 */
  --blur-heavy: blur(60px) saturate(180%);
}

/* ============================================================================
   Dark Theme - 深色模式
   ============================================================================ */
:root[data-theme="dark"] {
  /* 页面渐变背景 */
  --bg-gradient: linear-gradient(135deg, #2d2d44 0%, #2a3a5a 55%, #1a5a8a 100%);

  /* 卡片玻璃态背景 */
  --bg-glass: rgba(55, 55, 75, 0.98);

  /* 按钮激活状态背景 */
  --bg-glass-hover: rgba(75, 75, 95, 0.98);

  /* 输入框、下拉框等控件背景 */
  --bg-control: rgba(255, 255, 255, 0.15);

  /* 控件聚焦/hover 背景 */
  --bg-control-hover: rgba(255, 255, 255, 0.22);

  /* 设置模态框背景 */
  --bg-modal: rgba(30, 30, 40, 0.98);

  /* 卡片按钮未选中背景 */
  --bg-button: rgba(255, 255, 255, 0.04);

  /* 卡片按钮选中背景 */
  --bg-button-hover: rgba(255, 255, 255, 0.12);

  /* 头部按钮未选中背景 */
  --bg-button-header: rgba(255, 255, 255, 0.18);

  /* 头部按钮选中背景 */
  --bg-button-header-hover: rgba(255, 255, 255, 0.28);

  /* 主要文字颜色 */
  --text-primary: rgba(255, 255, 255, 0.85);

  /* 次要文字颜色 */
  --text-secondary: rgba(255, 255, 255, 0.68);

  /* 三级文字颜色 */
  --text-tertiary: rgba(255, 255, 255, 0.52);

  /* 禁用文字颜色 */
  --text-disabled: rgba(255, 255, 255, 0.38);

  /* 主强调色 */
  --accent-color: #818cf8;

  /* 强调色 hover */
  --accent-hover: #a5b4fc;

  /* 强调色 active */
  --accent-active: #c7d2fe;

  /* 成功状态文字色 */
  --success-color: #22c55e;

  /* 成功状态背景色 */
  --success-bg: rgba(34, 197, 94, 0.15);

  /* 成功状态边框色 */
  --success-border: #22c55e;

  /* 错误状态文字色 */
  --error-color: #f87171;

  /* 错误状态背景色 */
  --error-bg: rgba(248, 113, 113, 0.15);

  /* 错误状态边框色 */
  --error-border: #ef4444;

  /* 警告状态文字色 */
  --warning-color: #fb923c;

  /* 警告状态背景色 */
  --warning-bg: rgba(251, 146, 60, 0.15);

  /* 警告状态边框色 */
  --warning-border: #f97316;

  /* 模态框遮罩层 */
  --overlay-bg: rgba(0, 0, 0, 0.6);

  /* 骨架屏基础色 */
  --skeleton-base: rgba(255, 255, 255, 0.08);

  /* 骨架屏闪烁色 */
  --skeleton-shimmer: rgba(255, 255, 255, 0.15);

  /* 主边框 */
  --border-primary: rgba(255, 255, 255, 0.2);

  /* 次边框 */
  --border-secondary: rgba(255, 255, 255, 0.12);

  /* hover 边框 */
  --border-hover: rgba(255, 255, 255, 0.3);

  /* 小阴影 - 按钮、小卡片 */
  --shadow-sm:
    0 1px 0 0 rgba(255, 255, 255, 0.08), 0 2px 8px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.05);

  /* 中等阴影 - 一般卡片 */
  --shadow-md:
    0 1px 0 0 rgba(255, 255, 255, 0.1), 0 4px 16px rgba(0, 0, 0, 0.35),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.08);

  /* 大阴影 - 悬浮卡片 */
  --shadow-lg:
    0 1px 0 0 rgba(255, 255, 255, 0.1), 0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.08);

  /* 超大阴影 - 模态框 */
  --shadow-xl:
    0 1px 0 0 rgba(255, 255, 255, 0.12), 0 16px 48px rgba(0, 0, 0, 0.5),
    inset 0 1px 0 0 rgba(255, 255, 255, 0.1);

  /* 轻度背景模糊 */
  --blur-light: blur(20px) saturate(150%);

  /* 中度背景模糊 */
  --blur-medium: blur(40px) saturate(150%);

  /* 重度背景模糊 */
  --blur-heavy: blur(60px) saturate(150%);
}

/* 全局主题切换过渡动画 */
* {
  transition: var(--theme-transition);
}
