# Review Checklist

逐文件审查的详细检查项。主流程见 `SKILL.md`，此文件提供具体检查维度。

## 1) 逐文件理解

- 识别核心改动和关联改动，确认是否超出需求边界
- 明确改动目的、输入/输出、失败路径
- 标记高风险位置：状态管理、异步流程、跨模块调用、持久化、用户可见行为

## 2) 功能与边界检查

- 需求是否被完整实现，是否引入行为回归
- 空值、默认值、边界值是否处理
- 是否存在不必要 fallback（如应使用 `??` 却用了 `||`）
- 是否有 silent catch 或吞错导致问题被掩盖

## 3) 风险检查（必须）

- 错误处理是否完整（Rust `Result` / TypeScript 异常路径）
- 用户操作失败时是否有明确反馈（避免静默失败）
- 异步流程是否存在竞态、重入、资源泄漏风险
- React effect 是否有清理与依赖正确性
- Rust 是否存在高风险写法（不必要 `unwrap()`、async 场景误用阻塞）
- 若涉及 `#[cfg(...)]` 条件编译代码，检查非当前平台可编译性

## 4) 架构检查（重点）

- 前后端边界是否清晰（前端通过 Tauri commands 访问后端能力）
- UI、业务逻辑、数据访问是否解耦
- 模块职责是否单一，依赖方向是否合理
- 是否引入重复逻辑或不必要复杂度

## 5) 测试检查（必须）

- 新增/变更逻辑是否有对应测试
- 错误路径与关键边界是否有覆盖
- 测试是否隔离，断言是否清晰且稳定
- 对回归风险高的逻辑，是否补充最小可行回归测试
